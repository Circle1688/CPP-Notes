# C++学习笔记（C++11）

## 处理数据

### 整型

C++提供多种整型，能够根据程序的具体要求选择最合适的整型

- 符号类型（正负值的取值范围几乎相同）：short、int、long、long long

- 在C++中，**并没有规定每一类整型要占多少空间，只是规定了至少要占多少空间**

  **sizeof**表示多少字节，1字节等于8位，那么64位则是8字节

  - short：**至少占16位**

  - int：至少与short一样长

  - long：**至少32位**，且不短于int

  - long long：**至少64位**，且不短于long

  ```c++
  short score;
  int temperature;
  long position;
  long long lang_lang;
  ```

  

- 无符号类型（无负数）

  使用unsigned关键字

  ```c++
  unsigned short change;
  unsigned int rovert;
  unsigned long gone;
  unsigned long long lang_lang;
  ```

  

- 变量初始化

  **如果不对变量赋予初始值，则不要引用这个变量，因为该变量的值将是不确定的**

  

- 不同进制的整型表示

  ```c++
  int chest = 42; //十进制
  int waist = 0x42; //十六进制
  int inseam = 042; //八进制（以0开头的）
  ```

  不管是以什么进制表示，在内部都会转换为二进制，如果使用cout来输出，那么默认是都输出十进制的表示

  

- 确定整型常量的类型

  **用后缀明确指出常量类型**

  **十进制默认都是int**，**八进制和十进制常量默认是合适范围的无符号数**

  - L或I：长整型。如100L
  - U或u：无符号数。如100U
  - LU或UL：无符号长整型
  - LL或ll：long long类型
  - LLU或uLL：无符号long long类型

### char类型

处理字符的类型

**8位**

常用编码：ASCII

- char类型的运算

  可以执行加减运算或比较运算，参加运算的是内码值

  ```c++
  char ch = 'M';
  
  // #1
  ch = ch + 1;
  // 输出ch，大写字母是连续编码
  ch = N
      
  // #2
  ch = ch - 1;
  // 输出ch，大写字母是连续编码
  ch = L
  ```

  

- char类型赋初值用**单引号**

  ```c++
  char ch = 'A'; //键盘上存在的字符
  char ch_n = '\n'; //转义字符
  ```



### bool类型

用一个字节表示（1个字节等于8位二进制）

**8位**

**true是1，false是0**

可以作为算术运算的运算数



### 符号常量的定义

const限定符：限定一个变量是**只读**的

必须给初值

```c++
const double PI = 3.1416;
```

符号常量命名一般全部大写



### 浮点数

- 二进制浮点数的机内形式
  $$
  10100 * 2^{1101}
  $$

​	分别保存10100和1101，前者称为尾数，后者称为指数

- 浮点类型
  - float：至少32位
  - double：至少48位，且不少于float
  - long double：至少和double一样

​	浮点常量默认是**double**类型

​	**浮点数不能精确表示（近似值）**

​	float类型7位精度，double类型15位精度，例如

​	

```c++
float a = 1.800000;
double b = 1111111.111111
```



- 科学计数法

  E或者e表示10的多少次方，例如
  $$
  -1.5E10 = -1.5*10^{10}
  $$

  $$
  34e-8 = 34 * 10^{-8}
  $$

  常用来表示非常大或非常小的实数

  

- 明确指出浮点常量的类型

  - float：F或f
  - long double：L或l

  例如：1.5f，2.3E10L

  

### 运算表达式

加、减、乘、除、取模（%）

取模结果是**两个整数相除的余数**

- 除法的结果

  除法的结果取决于运算数

  **两个整数相除的结果是整数**

  例如 5 / 2 = 2，而不是2.5，因为两个都是整数

  **只要有一个运算数是浮点数，则会保留小数部分**

  例如 5.0 / 2 = 2.500000

  **只要有一个运算数是double，那么结果是double**

  **如果都是float，结果是float**

  

- 类型转换

  - **自动转换类型**，例如

  ```c++
  float a = 3;
  //输出
  a = 3.000000
  
  int ii = 3.9832;
  //输出，直接把小数点扔掉（即向下取整，而不是四舍五入）
  ii = 3
  ```

  转换规则

  希望**计算结果尽可能准确**，因此，转换原则是**精度小的类型向精度大的类型转换**，例如float转double

  

  - **强制类型转换**

    ```c++
    //类型（表达式）
    int x = 5, y = 2;
    cout << double(x/y);
    //结果为2.5
    
    cout << 'A' << '\t' << int('A');
    //结果为 A 65(A的内码值(ASCII))
    ```

## 复合类型

### 数组

- 定义格式

​	类型 数组名[元素个数];

​	类型 数组名[元素个数] = {初值表};

​	例如

```c++
int array[10]; //如果不赋值，那么每个元素的初始值为随机值（可能是内存之前存储的数据的残留）
int zarray[10] = {0}; //每个元素初始值为0
int znarray[10] = {}; //每个元素初始值为0
double darray[3] = {1.1, 2.1, 3.4};
short sarray[10] = {0, 1, 1};// 前三个元素值为0，1，1，其余的元素的初始值为0
int nnarray[] = {0, 1, 2}; //让编译器根据初值数量来决定数组大小
```

 

- 数组元素的表示

  数组名[下标]

  **注意：编译器不会检查下标的合法性！！！一定不要超出范围**



### C风格的字符串

**双引号**包围 "programming"

以`'\0'`结束的一串字符，`'\0'`为空字符，以字符数组的形式存储

```c++
char str[] = {'s', 't', 'r', 'i', 'n', 'g', '\0'}; 		//占7个字节
char str[] = "string"; 									//占7个字节
char str[10] = "string"; 								//占10个字节
//第三个数组的全部元素为
{'s', 't', 'r', 'i', 'n', 'g', '\0', '\0', '\0', '\0'}
```

**注意：字符数组和字符串的区别**

```c++
char str[] = {'s', 't', 'r', 'i', 'n', 'g', '\0'}; 		//这个是字符串
char str[] = {'s', 't', 'r', 'i', 'n', 'g'}; 			//这个是字符数组
```

**字符串必须以`'\0'`结束**

**空字符串""占用一个字节的空间，存放空白字符，即`'\0'`**



### C++风格的字符串

string类

头文件名string，在命名空间std中

```c++
#include <string>
using namespace std;
```

- 变量定义

  ```c++
  string str1, str3;
  string str2 = "hello";
  ```

- 字符串复制、拼接

  ```c++
  str1 = str2;
  str3 = "abced";
  str2 += str3;
  str3 = str1 + str2;
  ```

### 结构简介